
properties([
    parameters([
        string(name: "dir", defaultValue: "/Users", description: "")
    ])
])

pipeline {
    agent any

    stages {
        stage('dir folder') {
            steps {
               sh "ls '${params.dir}'"
            }
        }
        /*
        stage('run postman collection') {
            steps{

                sh "/opt/homebrew/Cellar/newman/5.3.2/bin/newman run postman_collection.json"
            }
        }
        */
        stage('run python collection') {
            steps {
                sh "pip3 install requests --force-reinstall"
                sh "pip3 install pytest --force-reinstall"
                sh "pytest -s test_api_one.py"
            }
        }
    }
}
